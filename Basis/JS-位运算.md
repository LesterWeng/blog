# JS-位运算

## 不同进制的表示法

表示法及相应的十进制值如下

十进制：`10` -> `10`

二进制：`0b10` -> `2`

八进制：`010` -> `8`

十六进制：`0x10` -> `16`

## 位运算

### 与

`&`

### 或

`|`

### 异或

`^`

与或不同，具有排异性，位相同时结果为假`0`，`1 ^ 1` -> `0`

### 左移

`<<`

`0b110101` 向左移一位，就是在末尾添加一位`0`

二进制左移一位，其实就是将数字翻倍

### 算术右移

`>>`

不考虑最高位`符号位`的右移

`0b110101` 向右移一位，就是去除末尾的那一位

二进制右移一位，就是将数字除以 `2` 并求`整数商`(如`7/3的整数商是2`)的操作

### 逻辑右移

`>>>`

在算术右移基础上将最高位`符号位`也进行右移(符号位`1`为`负`，所以正数算术右移、逻辑右移结果一致)，左边补`0`

左移、右移的运算优先级高于与、或、异或

### 取反

`~`

## 思考练习

1. 不使用`toString(2)`实现十进制到二进制的转换

2. 不用加减乘除做加法

   - `&`相当于求每位的`进位数`，先看定义：1&1=1；1&0=0；0&0=0；即都为 1 的时候才为 1，正好可以模拟进位数的情况,还是想象 10 进制下模拟情况：（9+1=10，如果是用&的思路来处理，则 9+1 得到的进位数为 1，而不是 10，所以要用<<1 向左再移动一位，这样就变为 10 了）
   - `^`相当于`无进位`的求和， 想象 10 进制下的模拟情况：（如:19+1=20；无进位求和就是 10，而非 20；因为它不管进位情况）

```js
function add(a, b) {
  if (b === 0) {
    return a
  }

  return add(a ^ b, (a & b) << 1)
}
```
